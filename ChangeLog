2004-06-15  Emmanuel Beffara  <manu@beffara.org>

	* src/modules/bibtex.py: Added a check for defined citations.

	* src/__init__.py: Added delayed directives, to improve the semantic
	of directives in sources.

	* src/__init__.py, src/util.py: Fixed the rules to check if compiling
	is required.

2004-06-09  Emmanuel Beffara  <manu@beffara.org>

	* src/modules/makeidx.py, src/modules/index.py: Added support for
	module "index", modified "makeidx" to factor the code.

2004-05-14  Emmanuel Beffara  <manu@beffara.org>

	* src/__init__.py, src/modules/...: Added support for e-TeX and Omega.

	* src/__init__.py: Corrected input_file to ignore names that contain
	the characters \ and #.

	* src/modules/bibtex.py: Refined dependency handling.

2004-05-04  Emmanuel Beffara  <manu@beffara.org>

	* src/__init__.py: Added directive "onchange".

2004-03-17  Emmanuel Beffara  <manu@beffara.org>

	* src/__init__.py, src/util.py: Added a method Depend.show_errors.

	* src/graphics/mpost.py: Moved error reporting to the right place.

	* src/cmdline.py, src/cmd_pipe.py: Write all messages on stderr.

2004-03-06  Emmanuel Beffara  <manu@beffara.org>

	* src/__init__.py: Portability improvement.

	* src/__init__.py, src/util.py: Fixed the plug-in loading.

2004-02-20  Emmanuel Beffara  <manu@beffara.org>

	* Version 0.99.7 released.

	* rubber.spec.in: RPM packaging update.

	* src/modules/epsfig.py: Added hooks for \epfbox and \epsffile.

2004-02-19  Emmanuel Beffara  <manu@beffara.org>

	* src/cmdline.py, src/cmd_info.py: Added info action --rules, allowed
	any rubber option in rubber-info.

	* src/modules/hyperref.py: Added support for hyperref.

	* src/modules/beamer.py: Update for the new version of beamer.

2004-02-18  Emmanuel Beffara  <manu@beffara.org>

	* src/modules/ps2pdf.py: Added post-processor ps2pdf.

	* src/cmdline.py, src/cmd_pipe.py: Added command-line option "-o",
	unified command-line parsing.

	* src/util.py: Added class DependShell.

2004-02-16  Emmanuel Beffara  <manu@beffara.org>

	* doc/...: Documentation updates.

	* src/cmdline.py, src/cmd_pipe.py: Added options "-e" and "-z".

	* src/__init__.py, src/modules/...: Bugfix for cleaning.

	* src/modules/gz.py: Added module "gz" for gzipping the document.

2004-02-14  Emmanuel Beffara  <manu@beffara.org>

	* src/...: Made the Environment class into a proper dependency node.
 
	* src/modules/multibib.py: Added hooks for local \bibliography and
	\bibliographystyle.

	* src/__init__.py: Added a hook for \endinput.

	* src/modules/expand.py: Added some option processing in source
	expansion.

2004-02-11  Emmanuel Beffara  <manu@beffara.org>

	* doc/...: Documentation updates.

	* configure, setup.py, rubber.spec.in, debian/rules: Added
	installation of the info documentation.

	* src/modules/expand.py: Don't expand local classes by default.

	* src/util.py, src/graphics/__init__.py: Made the rules for graphics
	conversion safer.

	* src/__init__.py, src/cmdline.py, src/cmd_info.py: Let the classes
	derive from "object".

2004-01-24  Emmanuel Beffara  <manu@beffara.org>

	* src/modules/bibtex.py, src/modules/multibib.sty: Added support for
	package "multibib", patching the bibtex module in the process.

	* src/cmdline.py: Added the installation directory in "--version".

	* src/util.py: Added function simplify_path.

	* src/__init__.py, src/cmdline.py: Added an argument to env.command to
	indicate the position of directives in the sources.

2004-01-21  Emmanuel Beffara  <manu@beffara.org>

	* src/modules/pdftex.py, src/modules/graphics.py: Added support for
	DVI generation by pdfTeX.

2004-01-20  Emmanuel Beffara  <manu@beffara.org>

	* src/__init__.py: Added a hook for \end{document}.

	* man/..., doc/..., setup.py, MANIFEST.in: Moved man pages into new
	directory doc. Introduced Texinfo documentation.

2004-01-17  Emmanuel Beffara  <manu@beffara.org>

	* src/cmdline.py, src/cmd_pipe.py, man/...: Added the command-line
	option "--texpath".

	* src/__init__.py, src/modules/expand.py: Fixed how 'expand' modifies
	the hooks dictionary.

2003-12-23  Emmanuel Beffara  <manu@beffara.org>

	* Makefile.in, man/...: Switched to proper hand-written man pages.

	* src/__init__.py, src/modules/expand.py: Added the 'expand' module.

2003-12-16  Emmanuel Beffara  <manu@beffara.org>

	* src/__init__.py: Allowed backslashes in macro arguments.

2003-12-11  Emmanuel Beffara  <manu@beffara.org>

	* src/__init__.py, src/cmdline.py: Moved the standard Message class
	into the command-line part, improved GNU compliance.

	* src/info.py, src/cmd_info.py: Improved message display, enhanced
	the parsing of bad box messages.

	* src/graphics.py: Made the "graphics not found" messages into proper
	warnings.

2003-12-08  Emmanuel Beffara  <manu@beffara.org>

	* src/__init__.py: Made messages more GNU-compliant.

2003-12-01  Emmanuel Beffara  <manu@beffara.org>

	* src/modules/dvipdfm.py, man/...: Added support for dvipdfm.

	* src/modules/vtex.py, src/modules/graphics.py: Added support for the
	VTeX compiler.

	* src/graphics/...: Let graphics modules check for the availability of
	the converters.

	* src/__init__.py, src/util.py: Moved "prog_available" into "util".

2003-11-10  Emmanuel Beffara  <manu@beffara.org>

	* src/__init__.py: Made errors visible even when quiet.

	* src/cmd_pipe.py: Made quietness the default in rubber-pipe.

	* Makefile.in: Made the man pages a dependency for install.

	* src/cmdline.py, src/cmd_info.py, src/cmd_pipe.py: Modified the help
	messages so they conform to GNU conventions.

2003-11-01  Emmanuel Beffara  <manu@beffara.org>

	* man/...: Added documentation for "rubber-pipe".

	* rubber-pipe.in, src/cmd_pipe.py: Added the "rubber-pipe"
	command-line frontend.

	* src/__init__.py, src/modules/dvips.py, src/modules/pdftex.py: Added
	a field "final_file" in the "Environment" class.

2003-10-30  Emmanuel Beffara  <manu@beffara.org>

	* src/modules/beamer.py, man/...: Added a module for package 'beamer'.

	* src/__init__.py: Modified the heuristics for pdfTeX's fake errors.

2003-10-29  Emmanuel Beffara  <manu@beffara.org>

	* src/__init__.py, src/util.py: Added support for multi-line macro
	arguments.

	* src/modules/graphics.py: Added a hook for \DeclareGraphicsExtension
	and preliminary support for \DeclareGraphicsRule.

	* src/graphics/mpost.py: Fixed the regular expression for dependency
	analysis in MetaPost sources.

2003-10-27  Emmanuel Beffara  <manu@beffara.org>

	* src/modules/{verbatim|moreverb}.py, man/...: Added modules for
	packages 'verbatim' and 'moreverb' (providing dependency analysis).

2003-10-20  Emmanuel Beffara  <manu@beffara.org>

	* src/...: Added a reference to the message writer in dependency
	nodes. Used it to make cleaning more verbose.

	* src/__init__.py (Environment): Added method "prog_available" to
	check for external programs.

	* src/graphics/__init__.py, src/graphics/convert.py: Added graphics
	module 'convert' for ImageMagick conversion.

	* src/util.py, src/graphics/__init__.py: Changed the Converter class
	to allow several modules for a given rewriting rule.

2003-10-07  Emmanuel Beffara  <manu@beffara.org>

	* src/__init__.py: Fixed the modification about error-like warnings.

2003-09-29  Emmanuel Beffara  <manu@beffara.org>

	* src/__init__.py, man/...: Added directive 'clean'.

	* src/__init__.py: Fixed the calls to 'watch_file'.

	* src/__init__.py: Handling of pdfTeX's error-like warning messages.

2003-09-26  Emmanuel Beffara  <manu@beffara.org>

	* src/__init__.py, man/...: Changed the semantics of watched_files a
	bit, added directive 'watch'.

	* src/__init__.py, src/modules/lhs2TeX.py: Added module 'lhs2TeX' for
	Literate Haskell support.

2003-07-31  Emmanuel Beffara  <manu@beffara.org>

	* src/__init__.py: Fixed the reinitialization process.

2003-06-25  Emmanuel Beffara  <manu@beffara.org>

	* rubber.spec.in: Fixed the RPM spec file (patch by Oron Peled).

	* src/modules/combine.py, man/...: Added module 'combine'.

2003-04-28  Emmanuel Beffara  <manu@beffara.org>

	* src/graphics.py: Fixed a stupid typo.

2003-04-21  Emmanuel Beffara  <manu@beffara.org>

	* src/__init__.py (update_seq): Added a space in the regexp for control
	sequences.

2003-04-17  Emmanuel Beffara  <manu@beffara.org>

	* src/modules/bibtex.py: Added a missing return statement.

2003-04-09  Emmanuel Beffara  <manu@beffara.org>

	* Version 0.99.6 released.

2003-04-01  Emmanuel Beffara  <manu@beffara.org>

	* src/modules/graphics.py: Added support for EPS/LaTeX figures.

	* src/modules/cweb.py: Added a conversion rule for imported CWEB
	source files, fixed the module.

	* src/cmdline.py: Added the missing call to env.make_source().

	* src/__init__.py, src/util.py: Added support for LaTeX source
	conversion rules.

	* src/modules/epsfig.py, man/...: Added support for epsfig.

2003-03-31  Emmanuel Beffara  <manu@beffara.org>

	* src/info.py: Fixed file name tracking again.

	* src/__init__.py, src/util.py, src/graphics/__init__.py: Revised the
	definition of Converter.

2003-03-27  Emmanuel Beffara  <manu@beffara.org>

	* src/util.py, src/graphics/__init__.py: Changed the converter
	mechanism into a utility class.

2003-03-26  Emmanuel Beffara  <manu@beffara.org>

	* src/__init__.py, src/cmdline.py, src/modules/dvips.py: Added paper
	size options.

2003-03-22  Emmanuel Beffara  <manu@beffara.org>

	* src/__init__.py, src/cmdline.py, man/...: Added directive "read" and
	changed the command line to use directives.

	* src/modules/mkeidx.py, man/...: Added directives in makeidx to
	specify options for makeindex.

	* src/modules/bibtex.py, man/...: Added support for BibTeX path
	changing.

	* src/__init__.py: Introduced support for module-specific directives.

	* src/__init__.py, src/modules/...: Modified the module structure into
	a more object-oriented one, introducing a base class Module in module
	rubber.

2003-03-21  Emmanuel Beffara  <manu@beffara.org>

	* src/__init__.py, man/...: Introduced directives (module and path).

2003-03-11  Emmanuel Beffara  <manu@beffara.org>

	* src/__init__.py (Environment.execute): Changed the thread into a
	forked process.

	* src/modules/natbib.py, man/...: Added support for package natbib.

	* src/graphics/mpost.py: Fixed the execution rule for compiling in
	different directories.

	* src/modules/graphics.py, src/graphics/__init__: Added support for
	the \graphicspath macro.

	* src/__init__.py: Added support for running programs from different
	directories, allowed macros to parse the rest of their line.

2003-02-24  Emmanuel Beffara  <manu@beffara.org>

	* src/__init__.py: Changed \batchmode into \nonstopmode so that
	possible Kpathsea messages actually show during TeX runs.

2003-02-05  Emmanuel Beffara  <manu@beffara.org>

	* src/graphics/__init__.py, src/graphics/jpeg2ps.py: Introduced
	automatic JPEG to EPS conversion with jpeg2ps.

2003-02-03  Emmanuel Beffara  <manu@beffara.org>

	* src/cmd_info.py: Modified action "deps" so that dependencies are
	listed only once.

2003-01-29  Emmanuel Beffara  <manu@beffara.org>

	* src/__init__.py: Fixed the behaviour in the case where LaTeX cannot
	be run.

2003-01-28  Emmanuel Beffara  <manu@beffara.org>

	* src/graphics/mpost.py: Introduced class MPLogCheck to report
	Metapost errors correctly.

	* setup.py: Removed accented characters in comments so that the
	new specification is followed.

2002-12-04  Emmanuel Beffara  <manu@beffara.org>

	* Version 0.99.5 released.

	* debian/control: Fixed dependency rules (again).

2002-11-29  Emmanuel Beffara  <manu@beffara.org>

	* src/__init__.py (Message.error): Allowed the error lines to be
	unspecified.

	* src/modules/bibtex.py: Added show_error() to parse BibTeX logs
	for error messages.

2002-11-27  Emmanuel Beffara  <manu@beffara.org>

	* man/: Updated the man pages with --check and the actual meaning
	of --deps.

	* src/modules/bibtex.py: Added bibliography databases and style
	files to the list of dependencies.

	* src/cmd_info.py: Redefined the --deps action to actually return
	all leaf dependencies.

	* src/util.py: Added method leaves() in Depend to report leaf
	dependecies.

2002-11-26  Emmanuel Beffara  <manu@beffara.org>

	* src/cmd_info.py: Added action --check in rubber-info, turned
	--help and --version into actions.

	* src/__init__.py: Fixed the regular expression for file name
	tracking in logs.

	* src/__init__.py, src/info.py: Introduced the method info() in
	Message for displaying non-error information.

2002-11-21  Emmanuel Beffara  <manu@beffara.org>

	* NEWS: Introduced the NEWS file.

	* src/__init__.py (Message), ...: Added the short error reporting
	style, introduced --short for it in rubber and rubber-info.

2002-11-17  Emmanuel Beffara  <manu@beffara.org>

	* src/__init__.py: Added the processed_sources variable to avoid
	looping when some source includes itself.

2002-11-14  Emmanuel Beffara  <manu@beffara.org>

	* all: Centralized the definition of _ in the main module to
	prepare for proper gettextization.

	* src/__init__.py: Fixed an error in line number matching.

2002-11-13  Emmanuel Beffara  <manu@beffara.org>

	* setup.py (do_check): Added checks for system-specific features.

	* src/__init__.py: Modified the execute method so that it reads
	the standard output of the external program (thus avoiding possible
	deadlocks and allowing for output redirection).

	* rubber.in, man/:  Added a relevant return code to the command-line.

	* src/cmdline.py, src/__init__.py: Moved the report of compilation
	errors out of the main source into the command-line interface.

2002-11-12  Emmanuel Beffara  <manu@beffara.org>

	* src/__init__.py: Restructured message displaying, by introducing
	msg.error() and msg.abort() and moving "nothing to be done" out of the
	main system.

2002-11-08  Emmanuel Beffara  <manu@beffara.org>

	* configure: Fixed the way we search for Python.

2002-11-07  Emmanuel Beffara  <manu@beffara.org>

	* src/util.py (Depend.make): Fixed date calculation to interact
	well with getmtime().

2002-11-06  Emmanuel Beffara  <manu@beffara.org>

	* src/modules/bibtex.py: Added a check so to handle the case where
	someone else has run BibTeX, and removed the unportable "-terse"
	command-line option. And yes, after the release >:-(

	* Version 0.99.4 released.

	* src/__init__.py, src/modules/minitoc.py: Fixed file name computation
	for minitoc and multiple .aux files.

	* src/graphics/epstopdf.py: Hacked the epstopdf command to make it
	work with bad executables.

	* src/graphics/, src/modules/: Checked for return codes in
	external program executions.

	* src/__init__.py: Added code to watch for changes in the aux
	file, to prevent from abusive recompilation.

2002-11-05  Emmanuel Beffara  <manu@beffara.org>

	* src/__init__.py (Environment.execute): Rewrote the procedure for
	external program execution, to make things clean. This has the
	drawback of using UNIX-specific features.
	(Config.compile_cmd): Changed calling convention for portability
	among TeX distributions.

	* src/graphics/eps_gz.py, ...: Added automatic extraction of
	bounding boxes from gzipped PostScript figures.

2002-11-04  Emmanuel Beffara  <manu@beffara.org>

	* src/modules/minitoc.py, src/modules/minitoc-hyper.py, man/:
	Introduced minitoc support.

	* src/modules/README: Updated module interface documentation.

	* src/__init__.py (LogCheck.show_errors): Removed an invalid call
	to update_file that caused a crash in some cases.
	(Environment): Split the triggers for \input and \include to take
	care of multiple .aux files. Checked for arguments in the BibTeX
	triggers.

2002-10-15  Emmanuel Beffara  <manu@beffara.org>

	* rubber.spec.in, configure, setup.py, Makefile.in: Introduced RPM
	packaging rules.

2002-10-14  Emmanuel Beffara  <manu@beffara.org>

	* configure, setup.py, Makefile.in: Made the Pyhton interpreter a
	parameter in the setup, with a probed default value.

2002-10-12  Emmanuel Beffara  <manu@beffara.org>

	* Version 0.99.3 released.

	* setup.py, debian/: Updated the package descriptions.

	* src/graphics/, man/: Introduced XFig support.

2002-09-20  Emmanuel Beffara  <manu@beffara.org>

	* src/util.py: Introduced a parsing funtion for keyval-like
	parameter lists.

	* src/modules/graphics.py: Improved handling of \includegraphics,
	so that the "ext=.foo" option is now understood.

	* src/graphics/mpost.py: Bugfix in message display.

2002-09-12  Emmanuel Beffara  <manu@beffara.org>

	* src/cmd_info.py: Fixed some bugs that remained (in rubber-info's
	--deps action) since the class fusion (see 2002-09-05).

2002-09-11  Emmanuel Beffara  <manu@beffara.org>

	* src/cmd_info.py, src/info.py, man/: Introduced the actions
	--refs and --warnings in rubber-info.

2002-09-06  Emmanuel Beffara  <manu@beffara.org>

	* Version 0.99.2 released.

	* setup.py, debian/control: Updated the package descriptions.

	* src/__init__.py (LogCheck.update_file): Fixed a bug that might
	happen in file-name tracking due to unbalanced parentheses in the
	log.

2002-09-05  Emmanuel Beffara  <manu@beffara.org>

	* src/__init__.py, src/cmdline.py: Introduced the -f command-line
	option.

	* man/: Also updated the description of the graphic[sx] modules.

	* all: Made one class out of Environment, Process and Parser. The
	message writers are now created by the interfaces (as it should
	always have been).

2002-09-04  Emmanuel Beffara  <manu@beffara.org>

	* ChangeLog: introduced the change log (thanks to cvs2cl :-)

2002-09-02  Emmanuel Beffara <manu@beffara.org>

	* README, TODO, configure, man/.cvsignore: Introduced TODO. Some
	updates.

	* setup.py: Added installation of rubber-info's man pages.

	* src/graphics/mpost.py: Added dependency analysis for Metapost
	sources.

	* src/modules/vt100.py: Introduced experimental VT100 coloring
	module.

	* debian/control: Fixed building dependencies for Debian.

	* src/__init__.py, modules/: Fixed file name computation so that
	compiling a document from another directory works.

2002-08-21  Emmanuel Beffara <manu@beffara.org>

	* src/util.py, src/modules/bibtex.py: Small bugfix in DependLeaf.

2002-08-03  Emmanuel Beffara <manu@beffara.org>

	* src/graphics/mpost.py: Fixed a small bug in MetaPost support.

2002-07-16  Emmanuel Beffara <manu@beffara.org>

	* README: Kudos to Mr Jeandel!

	* src/util.py: Now (but temporarily) fails when a leaf dependency
	doesn't exist.

	* src/__init__.py: Included starred macros in the parser.

2002-06-21  Emmanuel Beffara <manu@beffara.org>

	* Version 0.99.1 released.

	* Makefile.in, setup.py, man/: Synchronized version numbers in the
	man pages and the program.

	* setup.py, src/graphics/, src/modules/graphics.py: Introduced
	modular graphics support.

	* src/__init__.py, src/util.py, src/modules/bibtex.py: Introduced
	classes to represent dependency graphs.

	* man/en/rubber-info.1.pg, man/fr/rubber-info.1.pg: Added man
	pages for rubber-info.

2002-06-13  Emmanuel Beffara <manu@beffara.org>

	* src/cmd_info.py: Small improvement in command line reading.

	* src/info.py: Added page number tracking.

2002-06-13  Emmanuel Beffara <manu@beffara.org>

	* man/en/rubber.1.pg, man/fr/rubber.1.pg: Small fix in the man
	pages.

2002-06-12  Emmanuel Beffara <manu@beffara.org>

	* README, rubber-info.in, setup.py, src/cmd_info.py, src/info.py:
	Introduced rubber-info.

	* src/util.py: Small bugfix in module util.

	* src/__init__.py: Added source file tracking in error extraction.

	* src/cmdline.py: Now catches keyboard interrupts.

2002-06-11  Emmanuel Beffara <manu@beffara.org>

	* src/__init__.py: Adapted the source searching mechanism to TeX's
	actual behaviour.

	* src/__init__.py, src/util.py: Extracted a class Plugins from
	class Modules to allow other parts of the program to use plug-ins.

2002-06-11  Emmanuel Beffara <manu@beffara.org>

	* src/modules/graphics.py: Allowed empty suffix for all graphics
	file names.

2002-06-04  Emmanuel Beffara <manu@beffara.org>

	* src/__init__.py, src/modules/bibtex.py: Improved BibTeX-related
	analysis.

2002-06-03  Emmanuel Beffara <manu@beffara.org>

	* MANIFEST.in, Makefile.in: Fixed source package generation rules.

	* COPYING, Makefile.in: Fixed package building rules, included the
	GPL.

	* src/__init__.py: Introduced watched files.

	* src/util.py, src/modules/makeidx.py: Introduced module util.

	* src/__init__.py, src/cmdline.py, src/modules/dvips.py: Allowed
	(kind of) cleanly the processing of multiple sources.

2002-05-31  Emmanuel Beffara <manu@beffara.org>

	* src/modules/graphics.py, src/modules/graphicx.py: Added initial
	support for the graphics and graphicx packages.

	* src/__init__.py, src/cmdline.py: Moved the registration of
	command-line modules before the parsing of the source files.

	* configure: Small portability improvement.

	* setup.py: Fixed failure handling in the configuration.

	* src/__init__.py: Removed the erroneous error extraction.

	* MANIFEST.in, Makefile.in, configure, setup.py: Improved
	management of the version number.

	* debian/: Added Debian package generation.

	* man/: Added module descriptions to the man pages.

2002-05-31  Emmanuel Beffara <manu@beffara.org>

	* Version 0.99 released.
